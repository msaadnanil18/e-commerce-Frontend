export const productsByCategory = [
  {
    category: 'Electronics',
    products: [
      {
        id: 1,
        name: 'Smartphone',
        price: 499.99,
        image:
          'https://res.cloudinary.com/dmkkl6bcz/image/upload/v1736524460/codeapps_adobestock_562069694_vrmazl.png',
      },
      {
        id: 2,
        name: 'Laptop',
        price: 999.99,
        image:
          'https://images.unsplash.com/photo-1511385348-a52b4a160dc2?q=80&w=1507&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
      },
      {
        id: 3,
        name: 'Wireless Headphones',
        price: 199.99,
        image:
          'https://plus.unsplash.com/premium_photo-1679513691474-73102089c117?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8ZWFycGhvbmVzfGVufDB8fDB8fHww',
      },
      {
        id: 4,
        name: 'Smartwatch',
        price: 149.99,
        image:
          'https://res.cloudinary.com/dmkkl6bcz/image/upload/v1739124128/photo-1665860455450-21fb3949de29_a5lhbh.jpg',
      },
      {
        id: 5,
        name: 'Tablet',
        price: 299.99,
        image:
          'https://res.cloudinary.com/dmkkl6bcz/image/upload/v1739124294/photo-1738138986988-add3dd7cde9a_ikhtga.jpg',
      },
      {
        id: 21,
        name: 'Gaming Console',
        price: 399.99,
        image:
          'https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80',
      },
      {
        id: 22,
        name: '4K TV',
        price: 799.99,
        image:
          'https://images.unsplash.com/photo-1593784991095-a205069470b6?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80',
      },
    ],
  },
  {
    category: 'Fashion',
    products: [
      {
        id: 6,
        name: 'T-Shirt',
        price: 19.99,
        image:
          'https://res.cloudinary.com/dmkkl6bcz/image/upload/v1739124244/photo-1739001403413-e60cee35c3c1_im24fz.jpg',
      },
      {
        id: 7,
        name: 'Jeans',
        price: 49.99,
        image:
          'https://res.cloudinary.com/dmkkl6bcz/image/upload/v1739124340/photo-1738945121064-eec3ef5d6428_jhgsaa.jpg',
      },
      {
        id: 8,
        name: 'Sneakers',
        price: 79.99,
        image:
          'https://res.cloudinary.com/dmkkl6bcz/image/upload/v1739124395/photo-1738699623619-dcdd3d0beb44_maadxn.jpg',
      },
      {
        id: 9,
        name: 'Jacket',
        price: 99.99,
        image:
          'https://res.cloudinary.com/dmkkl6bcz/image/upload/v1739124445/photo-1738999632663-8aa52103106b_anzezy.jpg',
      },
      {
        id: 10,
        name: 'Sunglasses',
        price: 39.99,
        image:
          'https://res.cloudinary.com/dmkkl6bcz/image/upload/v1739124494/photo-1738928658299-20006c7276ee_wwr1za.jpg',
      },
      {
        id: 23,
        name: 'Leather Wallet',
        price: 29.99,
        image:
          'https://images.unsplash.com/photo-1548032885-b5e38734688a?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80',
      },
      {
        id: 24,
        name: 'Winter Scarf',
        price: 19.99,
        image:
          'https://images.unsplash.com/photo-1574170608902-4dd1f19b24a1?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80',
      },
    ],
  },
  {
    category: 'Home & Kitchen',
    products: [
      {
        id: 11,
        name: 'Blender',
        price: 59.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 12,
        name: 'Cookware Set',
        price: 129.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 13,
        name: 'Vacuum Cleaner',
        price: 199.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 14,
        name: 'Air Fryer',
        price: 89.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 15,
        name: 'Coffee Maker',
        price: 49.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 25,
        name: 'Electric Kettle',
        price: 34.99,
        image:
          'https://images.unsplash.com/photo-1595341883846-a3c8a113b8f2?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80',
      },
      {
        id: 26,
        name: 'Rice Cooker',
        price: 49.99,
        image:
          'https://images.unsplash.com/photo-1586201375761-83865001e31c?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80',
      },
    ],
  },
  {
    category: 'Beauty & Personal Care',
    products: [
      {
        id: 16,
        name: 'Face Serum',
        price: 24.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 17,
        name: 'Shampoo',
        price: 14.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 18,
        name: 'Perfume',
        price: 59.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 19,
        name: 'Lipstick Set',
        price: 19.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 20,
        name: 'Hair Dryer',
        price: 39.99,
        image: 'https://via.placeholder.com/150',
      },
      {
        id: 27,
        name: 'Sunscreen Lotion',
        price: 14.99,
        image:
          'https://images.unsplash.com/photo-1620916297395-3352b3a0d2c2?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80',
      },
      {
        id: 28,
        name: 'Electric Toothbrush',
        price: 49.99,
        image:
          'https://images.unsplash.com/photo-1589985270822-500c68964a4c?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80',
      },
    ],
  },
];

('use client');
import React, { useRef } from 'react';
import { View, Text, ScrollView, Button } from 'tamagui';
import ProductCard from './ProductCard';
import { FaArrowLeft, FaArrowRight } from 'react-icons/fa';

const ProductCategoryList = () => {
  const scrollRefs = useRef<Record<number, any>>({});

  const scrollBy = (index: number, offset: number) => {
    if (scrollRefs.current[index]) {
      scrollRefs.current[index].scrollTo({
        x: scrollRefs.current[index].scrollLeft + offset,
        animated: true,
      });
    }
  };

  return (
    <ScrollView padding='$1'>
      {productsByCategory.map((category, index) => (
        <View key={index} marginBottom='$4'>
          <Text
            fontSize='$5'
            fontWeight='bold'
            marginLeft='$10'
            marginBottom='$2'
          >
            {category.category}
          </Text>
          <View flexDirection='row' alignItems='center'>
            <Button
              onPress={() => scrollBy(index, -200)}
              chromeless
              icon={<FaArrowLeft />}
            />

            <ScrollView
              horizontal
              ref={(el) => {
                scrollRefs.current[index] = el;
              }}
              showsHorizontalScrollIndicator={false}
              //  style={{ flex: 1 }}
            >
              {category.products.map((product) => (
                <ProductCard key={product.id} product={product} />
              ))}
            </ScrollView>

            <Button
              onPress={() => scrollBy(index, 200)}
              chromeless
              icon={<FaArrowRight />}
            />
          </View>
        </View>
      ))}
    </ScrollView>
  );
};

export default ProductCategoryList;
